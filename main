from kivy.app import App
from kivy.lang import Builder
from kivy.properties import *
from kivy.clock import Clock

from random import *

from kivy.uix.screenmanager import ScreenManager, Screen
from kivy.uix.widget import Widget
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.popup import Popup

Builder.load_string('''
<Menu>:
    BoxLayout:
        orientation: "vertical"
        Button:
            text: "continue"
            on_press: root.manager.current="main"
        Button:
            text: "save game"
        Button:
            text: "Exit"
            on_press: app.stop()

<Main>:
    BoxLayout:
        orientation: "vertical"
        Label:
            text: root.lb
        Button:
            text:"click"
            on_press: root.click()
        Button:
            text:"Back to Menu"
            on_press: root.manager.current="menu"
            ''')

class Menu(Screen):
    pass

class Main(Screen):
    i=NumericProperty(0)
    lb=StringProperty("0")
    def click(self):
        self.i+=1
        self.lb=str(self.i)

sm=ScreenManager()
menu=Menu(name="menu")
main=Main(name="main")
sm.add_widget(menu)
sm.add_widget(main)

class main(App):
    def build(self):
        return sm

if __name__ == "__main__":
    main().run()
